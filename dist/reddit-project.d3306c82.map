{"version":3,"sources":["redditapi.js","index.js"],"names":["search","searchTerm","searchLimit","sortBy","fetch","then","res","json","data","children","map","catch","console","log","err","searchForm","document","getElementById","searchInput","addEventListener","value","querySelector","showMessage","reddit","output","results","forEach","image","post","preview","images","source","url","title","truncateText","selftext","subreddit","score","innerHTML","e","preventDefault","message","className","div","createElement","appendChild","createTextNode","searchContainer","insertBefore","setTimeout","remove","text","limit","shortened","indexOf","substring"],"mappings":"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","file":"reddit-project.d3306c82.map","sourceRoot":"..","sourcesContent":["export default {\n\tsearch: function(searchTerm, searchLimit, sortBy){\n\t\treturn fetch(\n\t\t\t`http://www.reddit.com/search.json?q=${searchTerm}&sort=${sortBy}&limit=${searchLimit}`\n\t\t\t)\n\t\t.then(res => res.json())\n\t\t.then(data => data.data.children.map(data=> data.data))\n\t\t.catch(err => console.log(err));\n\t}\n};","import reddit from './redditapi.js';\n\n\nconst searchForm = document.getElementById('search-form');\nconst searchInput = document.getElementById('search-input');\n\nsearchForm.addEventListener('submit', e => {\n//Get search term\nconst searchTerm = searchInput.value;\nconsole.log(searchTerm);\n\n//Get sort\n\nconst sortBy = document.querySelector('input[name=\"sortby\"]:checked').value;\nconsole.log(sortBy);\n//get limit\n\nconst searchLimit = document.getElementById('limit').value;\nconsole.log('searchLimit');\n\n//check input.\n\nif(searchTerm === \"\"){\n\tshowMessage(\"Please add a search term\", 'alert-danger');\n}\n//Clear Input\n\nsearchInput.value = \"\";\n\n//Search Reddit\nreddit.search(searchTerm, searchLimit, sortBy)\n.then(results => {\n\tlet output = '<div class=\"card-columns\">';\n\tresults.forEach(post =>{\n\t\t//Check for image\n\t\tlet image = post.preview ? post.preview.images[0].source.url : 'https://cdn.comparitech.com/wp-content/uploads/2017/08/reddit-1.jpg';\n\n\n\n\n\t\t//loop through post\n\t\toutput += `\n\t\t<div class=\"card\">\n  <img class=\"card-img-top\" src=\"${image}\" alt=\"Card image cap\">\n  <div class=\"card-body\">\n    <h5 class=\"card-title\">${post.title}</h5>\n    <p class=\"card-text\">${truncateText(post.selftext, 100)}</p>\n    <a href=\"${post.url}\" target=\"_blank\" class=\"btn btn-primary\">Read More</a>\n    <hr>\n    <span class=\"badge badge-secondary\">Subreddit: ${post.subreddit}</span>\n    <span class=\"badge badge-dark\">Score: ${post.score}</span>\n  </div>\n</div>\n`;\n\t});\n\toutput += '</div>';\n\tdocument.getElementById('results').innerHTML = output;\n});\n\n\ne.preventDefault();\n})\n\n//show message\nfunction showMessage(message, className){\n\t//create div\n\tconst div = document.createElement('div');\n\t//add classes\n\tdiv.className = `alert ${className}`;\n\t//Add Text\n\tdiv.appendChild(document.createTextNode(message));\n\t//Get parent container with id search-container and previous divs\n\tconst searchContainer = document.getElementById('search-container');\n\tconst search = document.getElementById('search');\n\n\t//insert message\n\tsearchContainer.insertBefore(div, search);\n\t//Timeout alert\n\tsetTimeout(()=>document.querySelector('.alert').remove(), 3000);\n\n}\n\n//truncate text\n\nfunction truncateText(text, limit){\n\tconst shortened = text.indexOf(' ', limit);\n\tif(shortened == -1) return text;\n\treturn text.substring(0, shortened);\n}"]}